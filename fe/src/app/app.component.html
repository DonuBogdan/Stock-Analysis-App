<app-header></app-header>

<div class="wrapper">

  <div class="leftpane">

    <div [ngStyle]="{'height': '22.5%'}">

      <div [ngStyle]="{'padding-top':'15px', 'padding-right': '5px', 'padding-bottom': '5px', 'padding-left': '5px', 'font-size': '26px'}">Search</div>

      <div class="form-group" [ngStyle]="{'padding': '5px'}">
        <label for="search-text">Search Text</label>
        <input class="form-control" id="search-text" aria-describedby="search-text" (keyup)="getSymbols()" [(ngModel)]="searchText" placeholder="Enter text to search" autofocus>
      </div>

      <hr [ngStyle]="{'background-color':'white'}">

      <div [ngStyle]="{'padding': '5px'}">SYMBOLS</div>

  </div>

    <div [ngStyle]="{'height': '77.5%', 'overflow-y': 'auto'}">
      <div [ngStyle]="{'border-radius': '5px', 'background-color': '#a8adaa', 'color': '#000000', 'padding': '10px', 'opacity': '0.25', 'margin': '5px', 'cursor': 'pointer'}" *ngFor="let companyInfo of companyInfos" (click)="getData(companyInfo.symbol, companyInfo.name)">
        {{companyInfo.symbol}} ({{companyInfo.name}})
      </div>
    </div>

  </div>

  <div class="middlepane">
    <div [ngStyle]="{'height': '5%', 'padding': '10px'}">Graphs</div>

    <div [ngStyle]="{'overflow-y': 'auto', 'overflow-x': 'hidden', 'height': '95%'}">

      <button [hidden]="!dataAvailable" mat-mini-fab class="btn-company-info" (click)="unlockCompanyDetails()">
        <mat-icon>add</mat-icon>
      </button>
  
      <div [hidden]="!showCompanyDetails" [ngStyle]="{'padding-left': '15px'}">{{this.selectedCompanySummary}}</div>
  
      <div [hidden]="!dataAvailable" class="chart-wrapper" [ngStyle]="{'margin': '5px'}">
        <canvas baseChart 
            [datasets]="lineChartData" 
            [labels]="lineChartLabels" 
            [options]="lineChartOptions"
            [colors]="lineChartColors" 
            [legend]="lineChartLegend" 
            [chartType]="lineChartType" 
            [plugins]="lineChartPlugins">
        </canvas>
      </div>
    </div>


  </div>

  <div class="rightpane">
    <div [ngStyle]="{'height': '5%', 'padding': '10px'}">Tweets</div>

    <div class="text-center" [hidden]="!dataAvailable" [ngStyle]="{'padding-top': '15px', 'padding-right': '15px', 'padding-left': '15px', 'height': '95%', 'overflow': 'auto'}">
    
      <div *ngFor="let tweet of tweets | paginate: { itemsPerPage: 10, currentPage: p }">
        {{tweet}}
        <hr [ngStyle]="{'background-color':'white'}">
      </div>

      <pagination-controls (pageChange)="p = $event"></pagination-controls>
    
    </div>

  

  </div>
</div>